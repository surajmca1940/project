{% extends 'base.html' %}

{% block title %}Admin Dashboard - Digital Psychological Intervention System{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h3 style="color: var(--primary-color);"><i class="bi bi-speedometer2"></i> Mental Health Platform Dashboard</h3>
        <p class="text-muted">Anonymous analytics and system overview</p>
    </div>
</div>

<div class="row mb-4">
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card stat-card text-white">
            <div class="card-body text-center">
                <i class="bi bi-people display-4 mb-3"></i>
                <div class="stat-number">248</div>
                <div>Active Users</div>
                <small>This Month</small>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card stat-card text-white">
            <div class="card-body text-center">
                <i class="bi bi-chat-dots display-4 mb-3"></i>
                <div class="stat-number">1,234</div>
                <div>AI Sessions</div>
                <small>This Month</small>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card stat-card text-white">
            <div class="card-body text-center">
                <i class="bi bi-calendar-check display-4 mb-3"></i>
                <div class="stat-number">89</div>
                <div>Appointments</div>
                <small>This Month</small>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card stat-card text-white">
            <div class="card-body text-center">
                <i class="bi bi-book display-4 mb-3"></i>
                <div class="stat-number">456</div>
                <div>Resource Views</div>
                <small>This Month</small>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="bi bi-graph-up"></i> Usage Trends</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> Chart placeholder - Integration with charting library needed
                </div>
                <p>Key insights:</p>
                <ul>
                    <li>AI support usage increased 25% this month</li>
                    <li>Peak usage during exam periods (May & December)</li>
                    <li>High engagement with peer support features</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="bi bi-exclamation-triangle"></i> Alerts</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-warning">
                    <strong>3 High-Risk Sessions</strong><br>
                    <small>Require counselor review</small>
                </div>
                <div class="alert alert-info">
                    <strong>Server Performance</strong><br>
                    <small>All systems operational</small>
                </div>
                <a href="{% url 'admin_dashboard:alerts' %}" class="btn btn-outline-primary btn-sm">View All Alerts</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="bi bi-pie-chart"></i> Feature Usage</h5>
            </div>
            <div class="card-body">
                <div class="d-flex justify-content-between mb-2">
                    <span>AI Support Chat</span>
                    <span class="badge bg-primary">45%</span>
                </div>
                <div class="progress mb-3" style="height: 10px;">
                    <div class="progress-bar" style="width: 45%"></div>
                </div>
                
                <div class="d-flex justify-content-between mb-2">
                    <span>Appointment Booking</span>
                    <span class="badge bg-success">30%</span>
                </div>
                <div class="progress mb-3" style="height: 10px;">
                    <div class="progress-bar bg-success" style="width: 30%"></div>
                </div>
                
                <div class="d-flex justify-content-between mb-2">
                    <span>Resources</span>
                    <span class="badge bg-info">15%</span>
                </div>
                <div class="progress mb-3" style="height: 10px;">
                    <div class="progress-bar bg-info" style="width: 15%"></div>
                </div>
                
                <div class="d-flex justify-content-between mb-2">
                    <span>Peer Support</span>
                    <span class="badge bg-warning">10%</span>
                </div>
                <div class="progress" style="height: 10px;">
                    <div class="progress-bar bg-warning" style="width: 10%"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="bi bi-calendar-week"></i> Recent Activity</h5>
            </div>
            <div class="card-body">
                <div class="d-flex mb-3">
                    <i class="bi bi-circle-fill text-primary me-3"></i>
                    <div>
                        <strong>New User Registration</strong><br>
                        <small class="text-muted">5 minutes ago</small>
                    </div>
                </div>
                <div class="d-flex mb-3">
                    <i class="bi bi-circle-fill text-success me-3"></i>
                    <div>
                        <strong>Appointment Booked</strong><br>
                        <small class="text-muted">15 minutes ago</small>
                    </div>
                </div>
                <div class="d-flex mb-3">
                    <i class="bi bi-circle-fill text-info me-3"></i>
                    <div>
                        <strong>Resource Accessed</strong><br>
                        <small class="text-muted">22 minutes ago</small>
                    </div>
                </div>
                <div class="d-flex">
                    <i class="bi bi-circle-fill text-warning me-3"></i>
                    <div>
                        <strong>Forum Post Created</strong><br>
                        <small class="text-muted">1 hour ago</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
{% endblock %}
